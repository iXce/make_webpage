    <script src="static/js/jquery.min.js"></script>
    <script src="static/bootstrap/js/bootstrap.min.js"></script>
{% if types.image %}
    <script src="static/js/jail.min.js"></script>
{% endif %}
{% if types.imagepopup %}
    <script src="static/js/magnific-popup.js"></script>
    <script type="text/javascript">
    $('.image-popup').magnificPopup({ 
      type: 'image',
      mainClass: 'mfp-with-zoom', // this class is for CSS animation below

      zoom: {
        enabled: true, // By default it's false, so don't forget to enable it

        duration: 300, // duration of the effect, in milliseconds
        easing: 'ease-in-out', // CSS transition easing function 

        // The "opener" function should return the element from which popup will be zoomed in
        // and to which popup will be scaled down
        // By defailt it looks for an image tag:
        opener: function(openerElement) {
          // openerElement is the element on which popup was initialized, in this case its <a> tag
          // you don't need to add "opener" option if this code matches your needs, it's defailt one.
          return openerElement.is('img') ? openerElement : openerElement.find('img');
        }
      }

        // other options
    });
    </script>
{% endif %}
{% if types.heatmap or types.xkcdplot %}
    <script src="static/js/d3.v2.min.js"></script>
{% endif %}
{% if types.xkcdplot %}
    <script src="static/js/xkcd.js"></script>
{% endif %}
{% if types.heatmap %}
    <script src="static/js/heatmap.js"></script>
{% endif %}
{% if types.comment %}
    <script src="static/js/remotecomment.js"></script>
{% endif %}
{% if types.plot or types.bar or types.dots %}
    <script src="static/js/raphael-min.js"></script>
    <script src="static/js/g.raphael-min.js"></script>
{% endif %}
{% if types.plot %}
    <script src="static/js/g.line-min.js"></script>
{% endif %}
    <script type="text/javascript">
{% if types.image %}
        $('img:not(.nojail)').jail({offset:800,placeholder:'static/img/blank.gif'{% if types.stack %},loadHiddenImages:true{% endif %}});
{% endif %}
{% do 'itemid'|inc(0, None, True) %}
{% for item0 in page.items %}
{% if item0 is sequence and not item0 is string and not item0 is mapping %}
{% for item in item0 %}
{% include "script_type_switch.html" %}
{% endfor %}
{% else %}
{% with item = item0 %}
{% include "script_type_switch.html" %}
{% endwith %}
{% endif %}
{% endfor %}

    </script>
